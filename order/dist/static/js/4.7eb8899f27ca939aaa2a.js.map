{"version":3,"sources":["webpack:///static/js/4.7eb8899f27ca939aaa2a.js","webpack:///./src/views/Order.vue","webpack:///src/views/Order.vue","webpack:///./src/views/Order.vue?7542","webpack:///./src/views/Order.vue?3b18","webpack:///./src/views/Order.vue?c7bd"],"names":["webpackJsonp","0mnt","module","__webpack_exports__","__webpack_require__","injectStyle","ssrContext","Object","defineProperty","value","lib","lib_default","n","config","socket","Order","name","components","data","active","computed","orderList","this","$store","state","user","userInfo","comboOrderList","getters","methods","acceptOrder","item","oid","_id","engInfo","emit","confirmByEngineer","confirmBycustom","evaluate","toChat","dispatch","_user","$router","push","delOrder","console","log","render","_vm","_h","$createElement","_c","_self","attrs","id","sticky","swipe-threshold","_l","sub","i","key","title","length","slot","staticStyle","width","staticClass","_v","_s","userinfo","username","telphone","serviceType","type","instancy","plain","colspan","desc","status","_e","size","on","click","$event","staticRenderFns","esExports","views_Order","normalizeComponent","__vue_styles__","Component","z1XL","exports","version","sources","names","mappings","file","sourcesContent","sourceRoot","ziVa","content","locals"],"mappings":"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","file":"static/js/4.7eb8899f27ca939aaa2a.js","sourcesContent":["webpackJsonp([4],{\n\n/***/ \"0mnt\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./node_modules/socket.io-client/lib/index.js\nvar lib = __webpack_require__(\"DmT9\");\nvar lib_default = /*#__PURE__*/__webpack_require__.n(lib);\n\n// EXTERNAL MODULE: ./src/api/config.js\nvar config = __webpack_require__(\"T452\");\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/Order.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\nvar socket = lib_default()(config[\"a\" /* _ip */]);\n/* harmony default export */ var Order = ({\n  name: 'order',\n  components: {},\n  data: function data() {\n    return {\n      active: 0\n    };\n  },\n\n  computed: {\n    orderList: function orderList() {\n      return this.$store.state.user.orderList;\n    },\n    userInfo: function userInfo() {\n      return this.$store.state.user.userInfo;\n    },\n    comboOrderList: function comboOrderList() {\n      return this.$store.getters.comboOrderList;\n    }\n  },\n  methods: {\n    acceptOrder: function acceptOrder(item) {\n      // 发送信息 谁接的单,接的哪一条单\n      var data = {\n        oid: item._id,\n        engInfo: this.$store.state.user.userInfo\n      };\n      socket.emit('acceptorder', data);\n    },\n    confirmByEngineer: function confirmByEngineer(data) {\n      socket.emit('confirmbyengineer', data);\n    },\n    confirmBycustom: function confirmBycustom(data) {\n      socket.emit('confirmbycustom', data);\n    },\n    evaluate: function evaluate(data) {\n      socket.emit('evaluate', data);\n    },\n    toChat: function toChat(item) {\n      this.$store.dispatch('targetUser', {\n        _user: item\n      });\n      this.$router.push('/chat/' + item._id);\n    },\n    delOrder: function delOrder(item) {\n      console.log(item);\n      var data = item;\n      socket.emit('delorder', data);\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-38856f35\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Order.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"order\"}},[_c('div',[_c('van-tabs',{attrs:{\"active\":_vm.active,\"sticky\":\"\",\"swipe-threshold\":3}},_vm._l((_vm.comboOrderList),function(sub,i){return _c('van-tab',{key:i,attrs:{\"title\":sub.title+'('+sub.data.length+')'}},[_c('van-cell-group',_vm._l((sub.data),function(item,i){return _c('van-cell',{key:i},[_c('div',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('table',{staticStyle:{\"width\":\"100%\"}},[_c('tr',[_c('td',{staticClass:\"label\"},[_vm._v(\"用户:\")]),_vm._v(\" \"),_c('td',{staticClass:\"value\"},[_vm._v(_vm._s(item.userinfo.username))]),_vm._v(\" \"),_c('td',{staticClass:\"label\"},[_vm._v(\"手机号:\")]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.userinfo.telphone))])]),_vm._v(\" \"),_c('tr',[_c('td',{staticClass:\"label\"},[_vm._v(\"服务方式:\")]),_vm._v(\" \"),_c('td',{staticClass:\"value\"},[(item.serviceType=='上门服务')?_c('van-tag',{attrs:{\"type\":\"danger\"}},[_vm._v(_vm._s(item.serviceType))]):(item.serviceType=='远程协助')?_c('van-tag',{attrs:{\"type\":\"success\"}},[_vm._v(_vm._s(item.serviceType))]):_c('van-tag',{attrs:{\"type\":\"primary\"}},[_vm._v(_vm._s(item.serviceType))])],1),_vm._v(\" \"),_c('td',{staticClass:\"label\"},[_vm._v(\"紧急程度:\")]),_vm._v(\" \"),_c('td',{staticClass:\"value\"},[(item.instancy=='紧急')?_c('van-tag',{attrs:{\"plain\":\"\",\"type\":\"danger\"}},[_vm._v(_vm._s(item.instancy))]):_c('van-tag',{attrs:{\"plain\":\"\",\"type\":\"primary\"}},[_vm._v(_vm._s(item.instancy))])],1)]),_vm._v(\" \"),_c('tr',[_c('td',{staticClass:\"label\"},[_vm._v(\"故障描述:\")]),_vm._v(\" \"),_c('td',{staticClass:\"value\",attrs:{\"colspan\":\"3\"}},[_vm._v(_vm._s(item.desc))])]),_vm._v(\" \"),_c('tr',[_c('td',{staticClass:\"label\"},[_vm._v(\"工单状态\")]),_vm._v(\" \"),_c('td',{staticClass:\"value\",attrs:{\"colspan\":\"3\"}},[(_vm.userInfo.type==1&&item.userinfo&&item.userinfo.type == 1)?_c('div',[(item.status==0)?_c('div',[_c('span',{staticClass:\"dot warning\"}),_vm._v(\"等待接单\")]):_vm._e(),_vm._v(\" \"),(item.status==1)?_c('div',[_vm._v(\"已由（\"+_vm._s(item.engInfo.username)+\"）接单\")]):_vm._e(),_vm._v(\" \"),(item.status==2)?_c('div',[_vm._v(\"工程师已确认完成\")]):_vm._e(),_vm._v(\" \"),(item.status==3)?_c('div',[_vm._v(\"待评价\")]):_vm._e(),_vm._v(\" \"),(item.status==4)?_c('div',[_vm._v(\"已完成\")]):_vm._e()]):_vm._e(),_vm._v(\" \"),(_vm.userInfo.type==2)?_c('div',[(item.status==0)?_c('div',[_c('span',{staticClass:\"dot warning\"}),_vm._v(\"等待接单\")]):_vm._e(),_vm._v(\" \"),(item.status==1)?_c('div',[_c('span',{staticClass:\"dot success\"}),_vm._v(\"已接单\")]):_vm._e(),_vm._v(\" \"),(item.status==2)?_c('div',[_vm._v(\"待客户确认\")]):_vm._e(),_vm._v(\" \"),(item.status==3)?_c('div',[_vm._v(\"待客户评价\")]):_vm._e(),_vm._v(\" \"),(item.status==4)?_c('div',[_vm._v(\"已完成\")]):_vm._e()]):_vm._e()])]),_vm._v(\" \"),_c('tr',[_c('td',{attrs:{\"colspan\":\"4\"}},[(_vm.userInfo.type==1&&item.userinfo&&item.userinfo.type == 1)?_c('div',[(item.status==0)?_c('van-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.delOrder(item)}}},[_vm._v(\"取消工单\")]):_vm._e(),_vm._v(\" \"),(item.status==1||item.status==2||item.status==3)?_c('van-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.toChat(item.engInfo)}}},[_vm._v(\"联系接单工程师\")]):_vm._e(),_vm._v(\" \"),(item.status==2)?_c('van-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.confirmBycustom(item)}}},[_vm._v(\"确认已完成\")]):_vm._e(),_vm._v(\" \"),(item.status==3)?_c('van-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.evaluate(item)}}},[_vm._v(\"评价\")]):_vm._e()],1):_vm._e(),_vm._v(\" \"),(_vm.userInfo.type==2)?_c('div',[(item.status==0)?_c('van-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.acceptOrder(item)}}},[_vm._v(\"接单\")]):_vm._e(),_vm._v(\" \"),(item.status==1||item.status==2||item.status==3)?_c('van-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.toChat(item.userinfo)}}},[_vm._v(\"联系客户\")]):_vm._e(),_vm._v(\" \"),(item.status==1)?_c('van-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.confirmByEngineer(item)}}},[_vm._v(\"完成工单\")]):_vm._e()],1):_vm._e()])])])])])}))],1)}))],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var views_Order = (esExports);\n// CONCATENATED MODULE: ./src/views/Order.vue\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"ziVa\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  Order,\n  views_Order,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var src_views_Order = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"z1XL\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"FZ+f\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \"\\n#order {\\r\\n  text-align: left;\\n}\\n.success {\\r\\n  background: #06bf04;\\n}\\n.dot {\\r\\n  height: 6px;\\r\\n  width: 6px;\\r\\n  border-radius: 50%;\\r\\n  display: inline-block;\\n}\\n.warning {\\r\\n  background: #f44;\\r\\n  margin-right: 4px;\\n}\\n.label {\\r\\n  font-size: 12px;\\r\\n  color: #999;\\r\\n  width: 20%;\\n}\\n.value {\\r\\n  font-size: 14px;\\r\\n  color: #555;\\r\\n  width: 30%;\\n}\\n.del {\\r\\n  width: 60px;\\r\\n  height: 100%;\\r\\n  text-align: center;\\r\\n  display: inline-block;\\r\\n  background: #f00;\\n}\\r\\n\", \"\", {\"version\":3,\"sources\":[\"D:/Users/Administrator/Desktop/workspace/order/order/src/views/Order.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,iBAAiB;CAClB;AACD;EACE,oBAAoB;CACrB;AACD;EACE,YAAY;EACZ,WAAW;EACX,mBAAmB;EACnB,sBAAsB;CACvB;AACD;EACE,iBAAiB;EACjB,kBAAkB;CACnB;AACD;EACE,gBAAgB;EAChB,YAAY;EACZ,WAAW;CACZ;AACD;EACE,gBAAgB;EAChB,YAAY;EACZ,WAAW;CACZ;AACD;EACE,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,sBAAsB;EACtB,iBAAiB;CAClB\",\"file\":\"Order.vue\",\"sourcesContent\":[\"\\n#order {\\r\\n  text-align: left;\\n}\\n.success {\\r\\n  background: #06bf04;\\n}\\n.dot {\\r\\n  height: 6px;\\r\\n  width: 6px;\\r\\n  border-radius: 50%;\\r\\n  display: inline-block;\\n}\\n.warning {\\r\\n  background: #f44;\\r\\n  margin-right: 4px;\\n}\\n.label {\\r\\n  font-size: 12px;\\r\\n  color: #999;\\r\\n  width: 20%;\\n}\\n.value {\\r\\n  font-size: 14px;\\r\\n  color: #555;\\r\\n  width: 30%;\\n}\\n.del {\\r\\n  width: 60px;\\r\\n  height: 100%;\\r\\n  text-align: center;\\r\\n  display: inline-block;\\r\\n  background: #f00;\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"ziVa\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"z1XL\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"rjj0\")(\"54bd49da\", content, true);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/4.7eb8899f27ca939aaa2a.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-38856f35\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Order.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Order.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-38856f35\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Order.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Order.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div id=\"order\">\r\n    <!-- <van-nav-bar title=\"订单\" fixed>\r\n    </van-nav-bar> -->\r\n    <div >\r\n       <van-tabs :active=\"active\" sticky :swipe-threshold=\"3\">\r\n      <van-tab v-for=\"(sub,i) in comboOrderList\" :key=\"i\" :title=\"sub.title+'('+sub.data.length+')'\">\r\n        <van-cell-group>\r\n          <van-cell v-for=\"(item,i) in sub.data\" :key=\"i\">\r\n            <div slot=\"title\">\r\n              <table style=\"width:100%\">\r\n                <tr>\r\n                  <td class=\"label\">用户:</td>\r\n                  <td class=\"value\">{{item.userinfo.username}}</td>\r\n                  <td class=\"label\">手机号:</td>\r\n                  <td>{{item.userinfo.telphone}}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td class=\"label\">服务方式:</td>\r\n                  <td class=\"value\">\r\n                    <van-tag type=\"danger\" v-if=\"item.serviceType=='上门服务'\">{{item.serviceType}}</van-tag>\r\n                    <van-tag type=\"success\" v-else-if=\"item.serviceType=='远程协助'\">{{item.serviceType}}</van-tag>\r\n                    <van-tag type=\"primary\" v-else>{{item.serviceType}}</van-tag>\r\n                  </td>\r\n                  <td class=\"label\">紧急程度:</td>\r\n                  <td class=\"value\">\r\n                    <van-tag plain type=\"danger\" v-if=\"item.instancy=='紧急'\">{{item.instancy}}</van-tag>\r\n                    <van-tag plain type=\"primary\" v-else>{{item.instancy}}</van-tag>\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td class=\"label\">故障描述:</td>\r\n                  <td class=\"value\" colspan=\"3\">{{item.desc}}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td class=\"label\">工单状态</td>\r\n                  <td class=\"value\" colspan=\"3\">\r\n                    <!-- 客户 -->\r\n                    <div v-if=\"userInfo.type==1&&item.userinfo&&item.userinfo.type == 1\">\r\n                      <div v-if=\"item.status==0\">\r\n                        <span class=\"dot warning\"></span>等待接单</div>\r\n                      <div v-if=\"item.status==1\">已由（{{item.engInfo.username}}）接单</div>\r\n                      <div v-if=\"item.status==2\">工程师已确认完成</div>\r\n                       <div v-if=\"item.status==3\">待评价</div>\r\n                       <div v-if=\"item.status==4\">已完成</div>\r\n                    </div>\r\n                    <!-- 工程师 -->\r\n                    <div v-if=\"userInfo.type==2\">\r\n                      <div v-if=\"item.status==0\">\r\n                        <span class=\"dot warning\"></span>等待接单</div>\r\n                      <div v-if=\"item.status==1\">\r\n                      <span class=\"dot success\"></span>已接单</div>\r\n                      <div v-if=\"item.status==2\">待客户确认</div>\r\n                      <div v-if=\"item.status==3\">待客户评价</div>\r\n                      <div v-if=\"item.status==4\">已完成</div>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td colspan=\"4\">\r\n                    <!-- 客户 -->\r\n                    <div v-if=\"userInfo.type==1&&item.userinfo&&item.userinfo.type == 1\">\r\n                         <van-button v-if=\"item.status==0\" @click=\"delOrder(item)\" size=\"small\">取消工单</van-button>\r\n                        <van-button v-if=\"item.status==1||item.status==2||item.status==3\" @click=\"toChat(item.engInfo)\" size=\"small\">联系接单工程师</van-button>\r\n                        <van-button v-if=\"item.status==2\" @click=\"confirmBycustom(item)\" size=\"small\">确认已完成</van-button>\r\n                        <van-button v-if=\"item.status==3\" @click=\"evaluate(item)\" size=\"small\">评价</van-button>\r\n                    </div>\r\n                    <!-- 工程师 -->\r\n                    <div v-if=\"userInfo.type==2\">\r\n                       <van-button v-if=\"item.status==0\" @click=\"acceptOrder(item)\" size=\"small\">接单</van-button>\r\n                       <van-button v-if=\"item.status==1||item.status==2||item.status==3\" @click=\"toChat(item.userinfo)\" size=\"small\">联系客户</van-button> \r\n                       <van-button v-if=\"item.status==1\" @click=\"confirmByEngineer(item)\" size=\"small\">完成工单</van-button>\r\n                    </div>\r\n                   \r\n                  </td>\r\n                </tr>\r\n              </table>\r\n            </div>\r\n          </van-cell>\r\n        </van-cell-group>\r\n      </van-tab>\r\n    </van-tabs>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport io from 'socket.io-client'\r\nimport {_ip} from '../api/config'\r\nconst socket = io(_ip)\r\nexport default {\r\n  name: 'order',\r\n  components: {},\r\n  data() {\r\n    return {\r\n      active: 0\r\n    }\r\n  },\r\n  computed: {\r\n    orderList() {\r\n      return this.$store.state.user.orderList\r\n    },\r\n    userInfo() {\r\n      return this.$store.state.user.userInfo\r\n    },\r\n    comboOrderList() {\r\n      return this.$store.getters.comboOrderList\r\n    }\r\n  },\r\n  methods: {\r\n    acceptOrder(item) {\r\n      // 发送信息 谁接的单,接的哪一条单\r\n      const data = {\r\n        oid: item._id,\r\n        engInfo: this.$store.state.user.userInfo\r\n      }\r\n      socket.emit('acceptorder', data)\r\n    },\r\n    confirmByEngineer(data) {\r\n      socket.emit('confirmbyengineer', data)\r\n    },\r\n    confirmBycustom(data) {\r\n      socket.emit('confirmbycustom', data)\r\n    },\r\n    evaluate(data) {\r\n      socket.emit('evaluate', data)\r\n    },\r\n    toChat(item) {\r\n      this.$store.dispatch('targetUser', {\r\n        _user: item\r\n      })\r\n      this.$router.push(`/chat/${item._id}`)\r\n    },\r\n    delOrder(item) {\r\n      console.log(item)\r\n      let data = item\r\n      socket.emit('delorder', data)\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style>\r\n#order {\r\n  text-align: left;\r\n}\r\n.success {\r\n  background: #06bf04;\r\n}\r\n.dot {\r\n  height: 6px;\r\n  width: 6px;\r\n  border-radius: 50%;\r\n  display: inline-block;\r\n}\r\n.warning {\r\n  background: #f44;\r\n  margin-right: 4px;\r\n}\r\n.label {\r\n  font-size: 12px;\r\n  color: #999;\r\n  width: 20%;\r\n}\r\n.value {\r\n  font-size: 14px;\r\n  color: #555;\r\n  width: 30%;\r\n}\r\n.del {\r\n  width: 60px;\r\n  height: 100%;\r\n  text-align: center;\r\n  display: inline-block;\r\n  background: #f00;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/Order.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"order\"}},[_c('div',[_c('van-tabs',{attrs:{\"active\":_vm.active,\"sticky\":\"\",\"swipe-threshold\":3}},_vm._l((_vm.comboOrderList),function(sub,i){return _c('van-tab',{key:i,attrs:{\"title\":sub.title+'('+sub.data.length+')'}},[_c('van-cell-group',_vm._l((sub.data),function(item,i){return _c('van-cell',{key:i},[_c('div',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('table',{staticStyle:{\"width\":\"100%\"}},[_c('tr',[_c('td',{staticClass:\"label\"},[_vm._v(\"用户:\")]),_vm._v(\" \"),_c('td',{staticClass:\"value\"},[_vm._v(_vm._s(item.userinfo.username))]),_vm._v(\" \"),_c('td',{staticClass:\"label\"},[_vm._v(\"手机号:\")]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.userinfo.telphone))])]),_vm._v(\" \"),_c('tr',[_c('td',{staticClass:\"label\"},[_vm._v(\"服务方式:\")]),_vm._v(\" \"),_c('td',{staticClass:\"value\"},[(item.serviceType=='上门服务')?_c('van-tag',{attrs:{\"type\":\"danger\"}},[_vm._v(_vm._s(item.serviceType))]):(item.serviceType=='远程协助')?_c('van-tag',{attrs:{\"type\":\"success\"}},[_vm._v(_vm._s(item.serviceType))]):_c('van-tag',{attrs:{\"type\":\"primary\"}},[_vm._v(_vm._s(item.serviceType))])],1),_vm._v(\" \"),_c('td',{staticClass:\"label\"},[_vm._v(\"紧急程度:\")]),_vm._v(\" \"),_c('td',{staticClass:\"value\"},[(item.instancy=='紧急')?_c('van-tag',{attrs:{\"plain\":\"\",\"type\":\"danger\"}},[_vm._v(_vm._s(item.instancy))]):_c('van-tag',{attrs:{\"plain\":\"\",\"type\":\"primary\"}},[_vm._v(_vm._s(item.instancy))])],1)]),_vm._v(\" \"),_c('tr',[_c('td',{staticClass:\"label\"},[_vm._v(\"故障描述:\")]),_vm._v(\" \"),_c('td',{staticClass:\"value\",attrs:{\"colspan\":\"3\"}},[_vm._v(_vm._s(item.desc))])]),_vm._v(\" \"),_c('tr',[_c('td',{staticClass:\"label\"},[_vm._v(\"工单状态\")]),_vm._v(\" \"),_c('td',{staticClass:\"value\",attrs:{\"colspan\":\"3\"}},[(_vm.userInfo.type==1&&item.userinfo&&item.userinfo.type == 1)?_c('div',[(item.status==0)?_c('div',[_c('span',{staticClass:\"dot warning\"}),_vm._v(\"等待接单\")]):_vm._e(),_vm._v(\" \"),(item.status==1)?_c('div',[_vm._v(\"已由（\"+_vm._s(item.engInfo.username)+\"）接单\")]):_vm._e(),_vm._v(\" \"),(item.status==2)?_c('div',[_vm._v(\"工程师已确认完成\")]):_vm._e(),_vm._v(\" \"),(item.status==3)?_c('div',[_vm._v(\"待评价\")]):_vm._e(),_vm._v(\" \"),(item.status==4)?_c('div',[_vm._v(\"已完成\")]):_vm._e()]):_vm._e(),_vm._v(\" \"),(_vm.userInfo.type==2)?_c('div',[(item.status==0)?_c('div',[_c('span',{staticClass:\"dot warning\"}),_vm._v(\"等待接单\")]):_vm._e(),_vm._v(\" \"),(item.status==1)?_c('div',[_c('span',{staticClass:\"dot success\"}),_vm._v(\"已接单\")]):_vm._e(),_vm._v(\" \"),(item.status==2)?_c('div',[_vm._v(\"待客户确认\")]):_vm._e(),_vm._v(\" \"),(item.status==3)?_c('div',[_vm._v(\"待客户评价\")]):_vm._e(),_vm._v(\" \"),(item.status==4)?_c('div',[_vm._v(\"已完成\")]):_vm._e()]):_vm._e()])]),_vm._v(\" \"),_c('tr',[_c('td',{attrs:{\"colspan\":\"4\"}},[(_vm.userInfo.type==1&&item.userinfo&&item.userinfo.type == 1)?_c('div',[(item.status==0)?_c('van-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.delOrder(item)}}},[_vm._v(\"取消工单\")]):_vm._e(),_vm._v(\" \"),(item.status==1||item.status==2||item.status==3)?_c('van-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.toChat(item.engInfo)}}},[_vm._v(\"联系接单工程师\")]):_vm._e(),_vm._v(\" \"),(item.status==2)?_c('van-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.confirmBycustom(item)}}},[_vm._v(\"确认已完成\")]):_vm._e(),_vm._v(\" \"),(item.status==3)?_c('van-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.evaluate(item)}}},[_vm._v(\"评价\")]):_vm._e()],1):_vm._e(),_vm._v(\" \"),(_vm.userInfo.type==2)?_c('div',[(item.status==0)?_c('van-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.acceptOrder(item)}}},[_vm._v(\"接单\")]):_vm._e(),_vm._v(\" \"),(item.status==1||item.status==2||item.status==3)?_c('van-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.toChat(item.userinfo)}}},[_vm._v(\"联系客户\")]):_vm._e(),_vm._v(\" \"),(item.status==1)?_c('van-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.confirmByEngineer(item)}}},[_vm._v(\"完成工单\")]):_vm._e()],1):_vm._e()])])])])])}))],1)}))],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-38856f35\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Order.vue\n// module id = null\n// module chunks = ","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n#order {\\r\\n  text-align: left;\\n}\\n.success {\\r\\n  background: #06bf04;\\n}\\n.dot {\\r\\n  height: 6px;\\r\\n  width: 6px;\\r\\n  border-radius: 50%;\\r\\n  display: inline-block;\\n}\\n.warning {\\r\\n  background: #f44;\\r\\n  margin-right: 4px;\\n}\\n.label {\\r\\n  font-size: 12px;\\r\\n  color: #999;\\r\\n  width: 20%;\\n}\\n.value {\\r\\n  font-size: 14px;\\r\\n  color: #555;\\r\\n  width: 30%;\\n}\\n.del {\\r\\n  width: 60px;\\r\\n  height: 100%;\\r\\n  text-align: center;\\r\\n  display: inline-block;\\r\\n  background: #f00;\\n}\\r\\n\", \"\", {\"version\":3,\"sources\":[\"D:/Users/Administrator/Desktop/workspace/order/order/src/views/Order.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,iBAAiB;CAClB;AACD;EACE,oBAAoB;CACrB;AACD;EACE,YAAY;EACZ,WAAW;EACX,mBAAmB;EACnB,sBAAsB;CACvB;AACD;EACE,iBAAiB;EACjB,kBAAkB;CACnB;AACD;EACE,gBAAgB;EAChB,YAAY;EACZ,WAAW;CACZ;AACD;EACE,gBAAgB;EAChB,YAAY;EACZ,WAAW;CACZ;AACD;EACE,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,sBAAsB;EACtB,iBAAiB;CAClB\",\"file\":\"Order.vue\",\"sourcesContent\":[\"\\n#order {\\r\\n  text-align: left;\\n}\\n.success {\\r\\n  background: #06bf04;\\n}\\n.dot {\\r\\n  height: 6px;\\r\\n  width: 6px;\\r\\n  border-radius: 50%;\\r\\n  display: inline-block;\\n}\\n.warning {\\r\\n  background: #f44;\\r\\n  margin-right: 4px;\\n}\\n.label {\\r\\n  font-size: 12px;\\r\\n  color: #999;\\r\\n  width: 20%;\\n}\\n.value {\\r\\n  font-size: 14px;\\r\\n  color: #555;\\r\\n  width: 30%;\\n}\\n.del {\\r\\n  width: 60px;\\r\\n  height: 100%;\\r\\n  text-align: center;\\r\\n  display: inline-block;\\r\\n  background: #f00;\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-38856f35\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/Order.vue\n// module id = z1XL\n// module chunks = 4","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-38856f35\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Order.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"54bd49da\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-38856f35\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/Order.vue\n// module id = ziVa\n// module chunks = 4"],"sourceRoot":""}