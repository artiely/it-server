webpackJsonp([4],{"0mnt":function(t,n,s){"use strict";function e(t){s("ziVa")}Object.defineProperty(n,"__esModule",{value:!0});var r=s("DmT9"),a=s.n(r),i=s("T452"),o=a()(i.a),c={name:"order",components:{},data:function(){return{active:0}},computed:{orderList:function(){return this.$store.state.user.orderList},userInfo:function(){return this.$store.state.user.userInfo},comboOrderList:function(){return this.$store.getters.comboOrderList}},methods:{acceptOrder:function(t){var n={oid:t._id,engInfo:this.$store.state.user.userInfo};o.emit("acceptorder",n)},confirmByEngineer:function(t){o.emit("confirmbyengineer",t)},confirmBycustom:function(t){o.emit("confirmbycustom",t)},evaluate:function(t){o.emit("evaluate",t)},toChat:function(t){this.$store.dispatch("targetUser",{_user:t}),this.$router.push("/chat/"+t._id)},delOrder:function(t){console.log(t);var n=t;o.emit("delorder",n)}}},l=function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{attrs:{id:"order"}},[s("div",[s("van-tabs",{attrs:{active:t.active,sticky:"","swipe-threshold":3}},t._l(t.comboOrderList,function(n,e){return s("van-tab",{key:e,attrs:{title:n.title+"("+n.data.length+")"}},[s("van-cell-group",t._l(n.data,function(n,e){return s("van-cell",{key:e},[s("div",{attrs:{slot:"title"},slot:"title"},[s("table",{staticStyle:{width:"100%"}},[s("tr",[s("td",{staticClass:"label"},[t._v("用户:")]),t._v(" "),s("td",{staticClass:"value"},[t._v(t._s(n.userinfo.username))]),t._v(" "),s("td",{staticClass:"label"},[t._v("手机号:")]),t._v(" "),s("td",[t._v(t._s(n.userinfo.telphone))])]),t._v(" "),s("tr",[s("td",{staticClass:"label"},[t._v("服务方式:")]),t._v(" "),s("td",{staticClass:"value"},["上门服务"==n.serviceType?s("van-tag",{attrs:{type:"danger"}},[t._v(t._s(n.serviceType))]):"远程协助"==n.serviceType?s("van-tag",{attrs:{type:"success"}},[t._v(t._s(n.serviceType))]):s("van-tag",{attrs:{type:"primary"}},[t._v(t._s(n.serviceType))])],1),t._v(" "),s("td",{staticClass:"label"},[t._v("紧急程度:")]),t._v(" "),s("td",{staticClass:"value"},["紧急"==n.instancy?s("van-tag",{attrs:{plain:"",type:"danger"}},[t._v(t._s(n.instancy))]):s("van-tag",{attrs:{plain:"",type:"primary"}},[t._v(t._s(n.instancy))])],1)]),t._v(" "),s("tr",[s("td",{staticClass:"label"},[t._v("故障描述:")]),t._v(" "),s("td",{staticClass:"value",attrs:{colspan:"3"}},[t._v(t._s(n.desc))])]),t._v(" "),s("tr",[s("td",{staticClass:"label"},[t._v("工单状态")]),t._v(" "),s("td",{staticClass:"value",attrs:{colspan:"3"}},[1==t.userInfo.type&&n.userinfo&&1==n.userinfo.type?s("div",[0==n.status?s("div",[s("span",{staticClass:"dot warning"}),t._v("等待接单")]):t._e(),t._v(" "),1==n.status?s("div",[t._v("已由（"+t._s(n.engInfo.username)+"）接单")]):t._e(),t._v(" "),2==n.status?s("div",[t._v("工程师已确认完成")]):t._e(),t._v(" "),3==n.status?s("div",[t._v("待评价")]):t._e(),t._v(" "),4==n.status?s("div",[t._v("已完成")]):t._e()]):t._e(),t._v(" "),2==t.userInfo.type?s("div",[0==n.status?s("div",[s("span",{staticClass:"dot warning"}),t._v("等待接单")]):t._e(),t._v(" "),1==n.status?s("div",[s("span",{staticClass:"dot success"}),t._v("已接单")]):t._e(),t._v(" "),2==n.status?s("div",[t._v("待客户确认")]):t._e(),t._v(" "),3==n.status?s("div",[t._v("待客户评价")]):t._e(),t._v(" "),4==n.status?s("div",[t._v("已完成")]):t._e()]):t._e()])]),t._v(" "),s("tr",[s("td",{attrs:{colspan:"4"}},[1==t.userInfo.type&&n.userinfo&&1==n.userinfo.type?s("div",[0==n.status?s("van-button",{attrs:{size:"small"},on:{click:function(s){t.delOrder(n)}}},[t._v("取消工单")]):t._e(),t._v(" "),1==n.status||2==n.status||3==n.status?s("van-button",{attrs:{size:"small"},on:{click:function(s){t.toChat(n.engInfo)}}},[t._v("联系接单工程师")]):t._e(),t._v(" "),2==n.status?s("van-button",{attrs:{size:"small"},on:{click:function(s){t.confirmBycustom(n)}}},[t._v("确认已完成")]):t._e(),t._v(" "),3==n.status?s("van-button",{attrs:{size:"small"},on:{click:function(s){t.evaluate(n)}}},[t._v("评价")]):t._e()],1):t._e(),t._v(" "),2==t.userInfo.type?s("div",[0==n.status?s("van-button",{attrs:{size:"small"},on:{click:function(s){t.acceptOrder(n)}}},[t._v("接单")]):t._e(),t._v(" "),1==n.status||2==n.status||3==n.status?s("van-button",{attrs:{size:"small"},on:{click:function(s){t.toChat(n.userinfo)}}},[t._v("联系客户")]):t._e(),t._v(" "),1==n.status?s("van-button",{attrs:{size:"small"},on:{click:function(s){t.confirmByEngineer(n)}}},[t._v("完成工单")]):t._e()],1):t._e()])])])])])}))],1)}))],1)])},v=[],u={render:l,staticRenderFns:v},d=u,_=s("VU/8"),A=e,f=_(c,d,!1,A,null,null);n.default=f.exports},z1XL:function(t,n,s){n=t.exports=s("FZ+f")(!0),n.push([t.i,"\n#order {\r\n  text-align: left;\n}\n.success {\r\n  background: #06bf04;\n}\n.dot {\r\n  height: 6px;\r\n  width: 6px;\r\n  border-radius: 50%;\r\n  display: inline-block;\n}\n.warning {\r\n  background: #f44;\r\n  margin-right: 4px;\n}\n.label {\r\n  font-size: 12px;\r\n  color: #999;\r\n  width: 20%;\n}\n.value {\r\n  font-size: 14px;\r\n  color: #555;\r\n  width: 30%;\n}\n.del {\r\n  width: 60px;\r\n  height: 100%;\r\n  text-align: center;\r\n  display: inline-block;\r\n  background: #f00;\n}\r\n","",{version:3,sources:["D:/Users/Administrator/Desktop/order-service/order-service/order/src/views/Order.vue"],names:[],mappings:";AACA;EACE,iBAAiB;CAClB;AACD;EACE,oBAAoB;CACrB;AACD;EACE,YAAY;EACZ,WAAW;EACX,mBAAmB;EACnB,sBAAsB;CACvB;AACD;EACE,iBAAiB;EACjB,kBAAkB;CACnB;AACD;EACE,gBAAgB;EAChB,YAAY;EACZ,WAAW;CACZ;AACD;EACE,gBAAgB;EAChB,YAAY;EACZ,WAAW;CACZ;AACD;EACE,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,sBAAsB;EACtB,iBAAiB;CAClB",file:"Order.vue",sourcesContent:["\n#order {\r\n  text-align: left;\n}\n.success {\r\n  background: #06bf04;\n}\n.dot {\r\n  height: 6px;\r\n  width: 6px;\r\n  border-radius: 50%;\r\n  display: inline-block;\n}\n.warning {\r\n  background: #f44;\r\n  margin-right: 4px;\n}\n.label {\r\n  font-size: 12px;\r\n  color: #999;\r\n  width: 20%;\n}\n.value {\r\n  font-size: 14px;\r\n  color: #555;\r\n  width: 30%;\n}\n.del {\r\n  width: 60px;\r\n  height: 100%;\r\n  text-align: center;\r\n  display: inline-block;\r\n  background: #f00;\n}\r\n"],sourceRoot:""}])},ziVa:function(t,n,s){var e=s("z1XL");"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);s("rjj0")("54bd49da",e,!0)}});
//# sourceMappingURL=4.5e78b4a3bc58e743eb20.js.map