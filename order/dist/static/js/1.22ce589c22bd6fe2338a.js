webpackJsonp([1],{"4Zop":function(t,n,e){var a=e("TMDl");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);e("rjj0")("4edd020d",a,!0)},"6+7L":function(t,n,e){n=t.exports=e("FZ+f")(!0),n.push([t.i,"\n#chat[data-v-18533905] {\n  padding-bottom: 50px;\n  padding-top: 46px;\n}\n.chat-me[data-v-18533905],\n.chat-other[data-v-18533905] {\n  width: 100%;\n  text-align: right;\n  font-size: 14px;\n  color: #333;\n  position: relative;\n}\n.chat-me .usericon[data-v-18533905],\n.chat-other .usericon[data-v-18533905] {\n  vertical-align: top;\n  width: 35px;\n}\n.chat-me .pop-box[data-v-18533905],\n.chat-other .pop-box[data-v-18533905] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  float: right;\n}\n.chat-me .pop-box-other[data-v-18533905],\n.chat-other .pop-box-other[data-v-18533905] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  float: left;\n}\n.chat-me .pop[data-v-18533905],\n.chat-other .pop[data-v-18533905] {\n  background: rgba(6, 191, 4, 0.4);\n  border-radius: 4px;\n  padding: 8px 12px;\n  display: block;\n  height: 100%;\n  text-align: left;\n}\n.chat-me .avatar[data-v-18533905],\n.chat-other .avatar[data-v-18533905] {\n  vertical-align: top;\n  display: inline-block;\n  width: 35px;\n  height: 35px;\n  border-radius: 50%;\n}\n.chat-other[data-v-18533905] {\n  text-align: left;\n}\n.chat-other .pop[data-v-18533905] {\n  background: #eee;\n}\n","",{version:3,sources:["D:/Users/Administrator/Desktop/workspace/order/order/src/views/Chat.vue"],names:[],mappings:";AACA;EACE,qBAAqB;EACrB,kBAAkB;CACnB;AACD;;EAEE,YAAY;EACZ,kBAAkB;EAClB,gBAAgB;EAChB,YAAY;EACZ,mBAAmB;CACpB;AACD;;EAEE,oBAAoB;EACpB,YAAY;CACb;AACD;;EAEE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,aAAa;CACd;AACD;;EAEE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,YAAY;CACb;AACD;;EAEE,iCAAiC;EACjC,mBAAmB;EACnB,kBAAkB;EAClB,eAAe;EACf,aAAa;EACb,iBAAiB;CAClB;AACD;;EAEE,oBAAoB;EACpB,sBAAsB;EACtB,YAAY;EACZ,aAAa;EACb,mBAAmB;CACpB;AACD;EACE,iBAAiB;CAClB;AACD;EACE,iBAAiB;CAClB",file:"Chat.vue",sourcesContent:["\n#chat[data-v-18533905] {\n  padding-bottom: 50px;\n  padding-top: 46px;\n}\n.chat-me[data-v-18533905],\n.chat-other[data-v-18533905] {\n  width: 100%;\n  text-align: right;\n  font-size: 14px;\n  color: #333;\n  position: relative;\n}\n.chat-me .usericon[data-v-18533905],\n.chat-other .usericon[data-v-18533905] {\n  vertical-align: top;\n  width: 35px;\n}\n.chat-me .pop-box[data-v-18533905],\n.chat-other .pop-box[data-v-18533905] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  float: right;\n}\n.chat-me .pop-box-other[data-v-18533905],\n.chat-other .pop-box-other[data-v-18533905] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  float: left;\n}\n.chat-me .pop[data-v-18533905],\n.chat-other .pop[data-v-18533905] {\n  background: rgba(6, 191, 4, 0.4);\n  border-radius: 4px;\n  padding: 8px 12px;\n  display: block;\n  height: 100%;\n  text-align: left;\n}\n.chat-me .avatar[data-v-18533905],\n.chat-other .avatar[data-v-18533905] {\n  vertical-align: top;\n  display: inline-block;\n  width: 35px;\n  height: 35px;\n  border-radius: 50%;\n}\n.chat-other[data-v-18533905] {\n  text-align: left;\n}\n.chat-other .pop[data-v-18533905] {\n  background: #eee;\n}\n"],sourceRoot:""}])},TMDl:function(t,n,e){n=t.exports=e("FZ+f")(!0),n.push([t.i,"\n.field__chat[data-v-65f609dc] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  height: 40px;\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  z-index: 99;\n}\n.field__chat .chat__input[data-v-65f609dc] {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  height: 40px;\n  border: none;\n  outline: none;\n  font-size: 14px;\n  text-indent: 8px;\n}\n.field__chat .btn__code[data-v-65f609dc] {\n  display: inline-block;\n  width: 60px;\n  height: 40px;\n  line-height: 40px;\n  text-align: center;\n  background: #ccc;\n  font-size: 12px;\n}","",{version:3,sources:["D:/Users/Administrator/Desktop/workspace/order/order/src/components/field/ChatInput.vue"],names:[],mappings:";AACA;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,aAAa;EACb,mBAAmB;EACnB,UAAU;EACV,SAAS;EACT,QAAQ;EACR,YAAY;CACb;AACD;EACE,oBAAoB;MAChB,YAAY;UACR,QAAQ;EAChB,aAAa;EACb,aAAa;EACb,cAAc;EACd,gBAAgB;EAChB,iBAAiB;CAClB;AACD;EACE,sBAAsB;EACtB,YAAY;EACZ,aAAa;EACb,kBAAkB;EAClB,mBAAmB;EACnB,iBAAiB;EACjB,gBAAgB;CACjB",file:"ChatInput.vue",sourcesContent:["\n.field__chat[data-v-65f609dc] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  height: 40px;\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  z-index: 99;\n}\n.field__chat .chat__input[data-v-65f609dc] {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  height: 40px;\n  border: none;\n  outline: none;\n  font-size: 14px;\n  text-indent: 8px;\n}\n.field__chat .btn__code[data-v-65f609dc] {\n  display: inline-block;\n  width: 60px;\n  height: 40px;\n  line-height: 40px;\n  text-align: center;\n  background: #ccc;\n  font-size: 12px;\n}"],sourceRoot:""}])},bvtx:function(t,n,e){var a=e("6+7L");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);e("rjj0")("7af3d3e4",a,!0)},"vi/S":function(t,n,e){"use strict";function a(t){e("4Zop")}function i(t){e("bvtx")}Object.defineProperty(n,"__esModule",{value:!0});var o={name:"chat-input",props:{value:{type:String,default:""},placeholder:{type:String,default:"请输入"}},data:function(){return{}},methods:{updateValue:function(t){this.$emit("input",t.trim())}}},s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"field__chat"},[e("input",{ref:"input",staticClass:"chat__input",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.value},on:{input:function(n){t.updateValue(n.target.value)},keyup:function(n){if(!("button"in n)&&t._k(n.keyCode,"enter",13,n.key))return null;t.$emit("click-send")}}}),e("span",{staticClass:"btn__code",on:{click:function(n){t.$emit("click-send")}}},[t._v("发送")])])},r=[],A={render:s,staticRenderFns:r},c=A,d=e("VU/8"),l=a,p=d(o,c,!1,l,"data-v-65f609dc",null),h=p.exports,u=e("DmT9"),C=e.n(u),f=e("T452"),x=C()(f.a),v={name:"chat",components:{ChatInput:h},data:function(){return{value:"",toid:"",usericon:"",user:{}}},computed:{state:function(){return this.$store.state.user.userInfo},targetUser:function(){return this.$store.state.user.targetUser},msgList:function(){var t=this;return this.$store.state.user.msgList.filter(function(n){if(n.chatid===[t.targetUser._user._id,t.state._id].sort().join("-"))return n})}},methods:{back:function(){this.$router.go(-1)},sendMsg:function(){var t={from:this.state._id,to:this.targetUser._user._id,content:this.value};console.log("我发送的消息",t),x.emit("sendmsg",t),this.value=""},_readmsg:function(){var t={userid:this.state._id,from:this.$store.state.user.targetUser._user._id};console.log("du xiao xi",t),x.emit("readmsg",t),this.$store.dispatch("readMsg",t)}},created:function(){},mounted:function(){},activated:function(){this.$nextTick(function(){window.scrollTo(0,document.body.scrollHeight)})},deactivated:function(){this._readmsg()}},B=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"chat"}},[e("van-nav-bar",{staticStyle:{"z-index":"99"},attrs:{title:t.targetUser._user.username?t.targetUser._user.username:"",leftText:"返回",leftArrow:"",fixed:""},nativeOn:{click:function(n){t.back(n)}}}),t._v(" "),e("div",{staticClass:"my-content",staticStyle:{bottom:"40px"}},t._l(t.msgList,function(n,a){return e("div",{key:a},[n.from==t.state._id?e("table",{staticClass:"chat-me"},[e("tr",[e("td",[e("div",{staticClass:"pop-box"},[e("span",{staticClass:"pop"},[t._v(t._s(n.content))])])]),t._v(" "),e("td",{staticClass:"usericon"},[e("span",{staticClass:"avatar",style:{background:t.state.avatar}})])])]):e("table",{staticClass:"chat-other"},[e("tr",[e("td",{staticClass:"usericon"},[e("span",{staticClass:"avatar",style:{background:t.targetUser._user.avatar?t.targetUser._user.avatar:"#eee"}})]),t._v(" "),e("td",[e("div",{staticClass:"pop-box-other"},[e("span",{staticClass:"pop"},[t._v(t._s(n.content))])])])])])])})),t._v(" "),e("ChatInput",{on:{"click-send":t.sendMsg},model:{value:t.value,callback:function(n){t.value=n},expression:"value"}})],1)},b=[],g={render:B,staticRenderFns:b},m=g,E=e("VU/8"),_=i,k=E(v,m,!1,_,"data-v-18533905",null);n.default=k.exports}});
//# sourceMappingURL=1.22ce589c22bd6fe2338a.js.map